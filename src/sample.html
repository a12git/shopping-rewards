import { Directive, ElementRef, HostListener } from '@angular/core';

@Directive({
  selector: '[appKeyBoardRestrict]'
})
export class KeyBoardRestrictDirective {
  @HostListener('keypress', ['$event']) onKeyDown(event: KeyboardEvent) {
    this.checkElementInfo(event);
  }
  constructor(private elementRef: ElementRef) {
    console.log(this.elementRef.nativeElement);
  }

  checkElementInfo(event: KeyboardEvent) {
    var inp = String.fromCharCode(event.keyCode);
    if(inp.trim() === '' ) {
      if(!this.elementRef.nativeElement.value || this.elementRef.nativeElement.value.trim() === '') {
        event.preventDefault();
        return false;
      }
      return true;
    } else {
      if (/[a-zA-Z0-9 ]/.test(inp)) {
        return true;
      } else {
        event.preventDefault();
        return false;
      }
    }
    
  }

}









 <div class="row">
    <div class="col-md-4">

    </div>
    <div class="col-md-8">
      <div class="row">
        <div class="col-md-2">
          <select class="form-select" aria-label="Default select example">
            <option selected>Open this select menu</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
        </div>
        <div class="col-md-2">
          <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Username" aria-label="Username"
              aria-describedby="basic-addon1">
          </div>
        </div>
        <div class="col-md-1">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
            <label class="form-check-label" for="flexRadioDefault1">
              Weekly
            </label>
          </div>
        </div>
        <div class="col-md-1">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
            <label class="form-check-label" for="flexRadioDefault1">
              Weekly
            </label>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-check">
            <input class="form-control" type="date">
          </div>
        </div>
      </div>
    </div>

  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">First</th>
        <th scope="col">Last</th>
        <th scope="col">Handle</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th scope="row">1</th>
        <td>Mark</td>
        <td>Otto</td>
        <td>@mdo</td>
      </tr>
      <tr>
        <th scope="row">2</th>
        <td>Jacob</td>
        <td>Thornton</td>
        <td>@fat</td>
      </tr>
      <tr>
        <th scope="row">3</th>
        <td colspan="2">Larry the Bird</td>
        <td>@twitter</td>
      </tr>
    </tbody>
  </table>
